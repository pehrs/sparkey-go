### TODOs

* Assert return codes from all functions are SPARKEY_SUCCESS
* Error handling
